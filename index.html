<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>鼠鼠映射</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Noto+Sans+SC:wght@400;500;600&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Ma+Shan+Zheng&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./assets/styles.css">
</head>

<body>
    <nav class="toc" aria-label="章节导航">
        <div class="nav-left">
            <img class="nav-logo" src="./logo.png" alt="logo" />
            <div class="nav-brand-label">鼠鼠映射</div>
        </div>
        <div class="nav-group">
            <button class="nav-btn nav-home active" data-target="brand">主页</button>
            <button class="nav-btn" data-target="quickstart">快速开始</button>
            <button class="nav-btn" data-target="connect">连接方式</button>
            <button class="nav-btn" data-target="flow">使用流程</button>
            <button class="nav-btn" data-target="logic">前后端逻辑</button>
            <button class="nav-btn" data-target="mapping">按键设置</button>
            <button class="nav-btn" data-target="notes">注意事项</button>
            <button class="nav-btn" data-target="faq">排查 & FAQ</button>
            <button class="nav-btn" data-target="changelog">版本要点</button>
            <button class="nav-btn" data-target="extend">扩展</button>
        </div>
    </nav>

    <div class="container">
        <main>
            <section class="view-section active" id="brand" data-section="brand">
                <header class="hero hero-brand">
                    <h1 class="title">使用手册</h1>
                    <p class="lede">本手册面向用户快速完成键鼠映射、联网连接与按键调校。</p>
                    <div class="meta-badges">
                        <span class="badge">拓展坞直连</span>
                        <span class="badge">局域网双机映射</span>
                        <span class="badge">高帧率实时绘制</span>
                        <span class="badge">宏 / 连点 / 多指 / 组合键等高级功能</span>
                    </div>
                    <div class="hero-actions">
                        <button class="btn primary jump-btn" data-target-section="quickstart">前往快速开始</button>
                    </div>
                </header>
            </section>

            <section class="view-section" id="quickstart" data-section="quickstart">
                <div class="section-head">
                    <div>
                        <h2 class="section-title">快速开始</h2>
                        <p class="section-desc">以局域网双机（PC + Android）为例，可自行更换其他连接方式</p>
                    </div>
                </div>
                <div class="step-flow">
                    <div class="flow-item">
                        <div class="flow-title">1，准备文件</div>
                        <div class="flow-desc">群文件下载pc发送端压缩包到电脑并解压运行exe程序，下载bb7_pro压缩包到手机运行sh脚本，首次使用先选择GPU版本进行配置。</div>
                    </div>
                    <div class="flow-item">
                        <div class="flow-title">2，连接</div>
                        <div class="flow-desc">先执行手机端sh脚本，记下显示的局域网IP地址，然后在PC端程序输入该IP地址，点击开始监听，连接完成。</div>
                    </div>
                    <div class="flow-item">
                        <div class="flow-title">3，映射配置</div>
                        <div class="flow-desc">自行进行键位配置或导入他人配置文件到程序并加载。</div>
                    </div>
                    <div class="flow-item">
                        <div class="flow-title">4，开始</div>
                        <div class="flow-desc">按下配置热键（默认ESC）退出配置界面，开始游玩。</div>
                    </div>
                </div>
            </section>

            <section class="view-section" id="connect" data-section="connect">
                <div class="section-head">
                    <div>
                        <h2 class="section-title">连接方式</h2>
                        <p class="section-desc">可选键鼠直连或双机局域网连接</p>
                    </div>
                </div>
                <div class="card mt-12">
                    <h3>本机直连</h3>
                    <div class="grid">
                        <div class="list">
                            <li><strong>1) 需要的设备：</strong>随便能用的键盘、鼠标和拓展坞</li>
                            <li><strong>2) 填入 PC：</strong>在 PC 端输入 IP，确认端口按默认即可。</li>
                        </div>
                    </div>
                </div>
                <br>
                <div class="two-col">
                    <div class="card">
                        <h3>前置检查</h3>
                        <ul class="list">
                            <li><strong>同网段：</strong>PC 与手机保持同一路由器 / 有线网卡。可在手机端界面读取 Wi-Fi IP（优先显示 w），若无 Wi-Fi 则显示网卡
                                IP（e）。</li>
                            <li><strong>Ping 通：</strong>在 PC 上 ping 手机 IP，延迟稳定 (<40ms) 为佳。</li>
                            <li><strong>防火墙：</strong>允许局域网流量；若启用防录屏/隐私权限，先开映射再投屏。</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>协议选择</h3>
                        <ul class="list">
                            <li><strong>UDP（默认）：</strong>低延迟，适合稳定局域网。</li>
                            <li><strong>TCP：</strong>当 Wi-Fi 抖动或偶发丢包时使用，牺牲少量延迟换稳定性。</li>
                            <li><strong>切换方式：</strong>PC 端勾选 UDP/TCP 互斥复选框，配置会持久化保存。</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section class="view-section" id="logic" data-section="logic">
                <div class="section-head">
                    <div>
                        <h2 class="section-title">前后端逻辑</h2>
                        <p class="section-desc">理解数据流便于排查：PC 端监听键鼠 → 网络传输 → 手机端触控注入 → 游戏内表现。</p>
                    </div>
                    <span class="pill">端到端链路</span>
                </div>
                <div class="logic-flow card">
                    <div class="logic-row">
                        <div class="logic-node">
                            <div class="tag">PC 前端</div>
                            <h4>键鼠监听 & 编码</h4>
                            <p>Hook 键盘/鼠标事件，按配置生成触摸/宏指令。支持连点、宏滑动、滚轮映射。</p>
                        </div>
                        <div class="logic-connector">⇨ UDP/TCP 传输</div>
                        <div class="logic-node">
                            <div class="tag">网络层</div>
                            <h4>低延迟传输</h4>
                            <p>默认 UDP；如网络抖动或需可靠性，可切换 TCP。局域网优先 Wi-Fi，其次有线网卡。</p>
                        </div>
                    </div>
                    <div class="logic-row">
                        <div class="logic-node">
                            <div class="tag">Android 后端</div>
                            <h4>触控合成</h4>
                            <p>解析指令，合成多指触摸、长按、滑动。支持显示/隐藏鼠标状态、压枪、灵敏度调节。</p>
                        </div>
                        <div class="logic-connector">⇨</div>
                        <div class="logic-node">
                            <div class="tag">游戏呈现</div>
                            <h4>画面与交互</h4>
                            <p>游戏内完成视角、移动、开火、开镜等操作。保持游戏设置与映射一致以避免跳屏。</p>
                        </div>
                    </div>
                    <div class="alert" role="note">
                        <strong>提示：</strong>若感觉延迟/跳屏，优先检查网络稳定性与游戏内“按钮转向”等设置，其次在 PC 端切换 UDP/TCP 或调低触摸采样率（可设置为 0 解除限制）。
                    </div>
                </div>
            </section>



            <section class="view-section" id="flow" data-section="flow">
                <div class="section-head">
                    <div>
                        <h2 class="section-title">使用流程（详解）</h2>
                        <p class="section-desc">按端口分工执行，方便复查每一步。</p>
                    </div>
                    <span class="pill">操作清单</span>
                </div>
                <div class="two-col">
                    <div class="card">
                        <h3>PC 端</h3>
                        <ol class="list list-ordered">
                            <li><strong>启动：</strong>运行 GPU 版（或 CPU 版）。</li>
                            <li><strong>网络：</strong>选择 UDP/TCP，输入手机 IP。</li>
                            <li><strong>按键：</strong>点击“设置热键/按键”逐一绑定（含鼠标中键/侧键/滚轮）。</li>
                            <li><strong>宏/连点：</strong>按需绑定，宏需先转换后再执行。</li>
                            <li><strong>监听：</strong>点击“开始监听”，界面会禁用其他控件，停止时全部恢复。</li>
                            <li><strong>压枪/灵敏度：</strong>根据需要开启并微调，确认开镜键匹配。</li>
                        </ol>
                    </div>
                    <div class="card">
                        <h3>手机端</h3>
                        <ol class="list list-ordered">
                            <li><strong>前置：</strong>关闭系统多指手势/区域截屏/悬浮球等可能抢占触控的功能。</li>
                            <li><strong>确认 IP：</strong>在主界面查看 Wi-Fi/网卡 IP，保持屏幕常亮。</li>
                            <li><strong>连接：</strong>在 PC 端输入 IP 后开始监听，手机端应收到触控。</li>
                            <li><strong>游戏设置：</strong>关闭“按钮转向/开火旋转”之类的自动转向选项，保证映射稳定。</li>
                            <li><strong>测试：</strong>进入训练场或自定义房，验证移动、开火、开镜、滚轮缩放是否正常。</li>
                            <li><strong>切换 CPU：</strong>若需隐藏界面或兼容检测，退出 GPU 版后启动 CPU 版继续连接。</li>
                        </ol>
                    </div>
                </div>
            </section>

            <section class="view-section" id="mapping" data-section="mapping">
                <div class="section-head">
                    <div>
                        <h2 class="section-title">按键设置 & 推荐方案</h2>
                        <p class="section-desc">常用键位模板 + 配置要点，减少冲突与误触。</p>
                    </div>
                    <span class="pill">键位与宏</span>
                </div>
                <div class="card scroll-x">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>功能</th>
                                <th>推荐键位</th>
                                <th>说明</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>移动</td>
                                <td>W / A / S / D</td>
                                <td>基础移动，保持与游戏内布局一致。</td>
                            </tr>
                            <tr>
                                <td>跳跃 / 蹲伏 / 站起</td>
                                <td>Space / C / Ctrl</td>
                                <td>避免与系统热键冲突；如有冲突可改为 Alt 组合。</td>
                            </tr>
                            <tr>
                                <td>开镜 / 开火</td>
                                <td>Right Mouse / Left Mouse</td>
                                <td>开镜后压枪才生效；测试连发稳定性。</td>
                            </tr>
                            <tr>
                                <td>切枪 / 换弹</td>
                                <td>1 / 2 / R</td>
                                <td>切枪可配合宏滑动实现快速丢弃。</td>
                            </tr>
                            <tr>
                                <td>疾跑模式</td>
                                <td>Shift（按下或松开切换）</td>
                                <td>支持模式切换，重新配置后生效。</td>
                            </tr>
                            <tr>
                                <td>滚轮</td>
                                <td>Wheel Up / Down</td>
                                <td>1.3.2+ 修复冲突；映射时确认指针状态。</td>
                            </tr>
                            <tr>
                                <td>截图快捷键</td>
                                <td>请避开 PC 系统截图键</td>
                                <td>否则可能触发电脑自身截图，导致窗口失焦。</td>
                            </tr>
                            <tr>
                                <td>宏 / 连点</td>
                                <td>自定义</td>
                                <td>宏执行前需转换；连点需重新配置绑定键。</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="grid mt-12">
                    <div class="card">
                        <h3>配置小贴士</h3>
                        <ul class="list">
                            <li><strong>显示鼠标状态：</strong>可单独设置中键/右键/侧键，便于界面操作。</li>
                            <li><strong>多指触控：</strong>1.2.0 起优化多指速度，适合压枪+移动等复合动作。</li>
                            <li><strong>触摸采样率：</strong>若遇到跳屏/触摸不生效，可适当降低采样率，设置为 0 代表不限制。</li>
                            <li><strong>宏滑动偏移：</strong>在显示鼠标状态下，可设置起点为实时位置，再设偏移点与终点。</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>避坑指南</h3>
                        <ul class="list">
                            <li><strong>冲突检查：</strong>同一时间避免多个键映射到同一触控点，防止覆盖。</li>
                            <li><strong>重置视角：</strong>遇到漂移可使用“重置视角”功能；仍异常时检查游戏内灵敏度。</li>
                            <li><strong>跳屏修复：</strong>关闭“按钮转向/探头键转动视角”，必要时降低触摸采样率。</li>
                            <li><strong>保存配置：</strong>修改后务必保存；主页连接方式/绘制开关已支持持久化。</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section class="view-section" id="notes" data-section="notes">
                <div class="section-head">
                    <div>
                        <h2 class="section-title">必看注意事项</h2>
                        <p class="section-desc">来源于实际问题反馈，提前规避可避免大多数故障。</p>
                    </div>
                </div>
                <div class="grid">
                    <div class="card">
                        <h3>系统/手势</h3>
                        <ul class="list">
                            <li>关闭三指截屏、区域截屏、四指悬浮等系统手势，防止触摸失灵。</li>
                            <li>投屏前固定手机方向，再开启投屏，避免坐标错位。</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>最小化 / 前后台</h3>
                        <ul class="list">
                            <li>推荐双机；如需最小化：<strong>开映射 → 进游戏 → 退游戏 → 关映射</strong> 按顺序操作。</li>
                            <li>本机直连时，游戏内不要拔插键鼠，以防驱动重新枚举导致掉线。</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>检测与兼容</h3>
                        <ul class="list">
                            <li>部分游戏对 Android 16 以下 GPU 渲染有检测，需用 CPU 版游玩。</li>
                            <li>如遇掐雷跳屏、滚轮异常，更新到最新版本后重新配置对应键位。</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>性能与延迟</h3>
                        <ul class="list">
                            <li>网络抖动时切 TCP；高帧率时可适度降低压枪/触摸频率保持稳定。</li>
                            <li>保持屏幕常亮，防止息屏后触控被系统节电策略拦截。</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section class="view-section" id="faq" data-section="faq">
                <div class="section-head">
                    <div>
                        <h2 class="section-title">常见问题 & 排查</h2>
                        <p class="section-desc">遇到异常先对照下列检查项。</p>
                    </div>
                    <span class="pill">故障排查</span>
                </div>
                <div class="faq-grid">
                    <div class="card">
                        <h3>触摸不生效 / 跳屏</h3>
                        <ul class="list">
                            <li>确认系统手势已关闭，游戏内关闭按钮转向。</li>
                            <li>在 PC 端降低触摸采样率；必要时切 TCP。</li>
                            <li>重新校准键位（尤其是滚轮、探头键）。</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>延迟高 / 丢包</h3>
                        <ul class="list">
                            <li>切换到 5G Wi-Fi 或有线网卡；减少同网段占用。</li>
                            <li>尝试 TCP，或减少宏/连点频率。</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>滚轮/按键冲突</h3>
                        <ul class="list">
                            <li>1.3.2+ 已修复；更新后重新绑定滚轮。</li>
                            <li>避免把系统快捷键（如 Win+Shift+S）设为游戏操作。</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>压枪不生效</h3>
                        <ul class="list">
                            <li>确认开镜键已按下，压枪在开镜状态才触发。</li>
                            <li>调整水平随机偏移开关，观察抖动改善情况。</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section class="view-section" id="changelog" data-section="changelog">
                <div class="section-head">
                    <div>
                        <h2 class="section-title">版本要点（摘要）</h2>
                        <p class="section-desc">便于确认你是否已覆盖近期修复与功能。</p>
                    </div>
                    <span class="pill">建议保持最新版</span>
                </div>
                <div class="grid">
                    <div class="card">
                        <h3>1.3.8</h3>
                        <ul class="list">
                            <li>IP 获取支持 Wi-Fi/网卡优先显示。</li>
                            <li>支持任意两个组合键；主页配置持久化。</li>
                            <li>修复非网络原因的掉后台。</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>1.3.7</h3>
                        <ul class="list">
                            <li>扩展宏/连点功能（宏需先转换）。</li>
                            <li>参数优化，连点需重新配置。</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>1.3.6 及更早</h3>
                        <ul class="list">
                            <li>新增按键混合模式；宏界面优化。</li>
                            <li>压枪水平随机偏移、滚轮冲突修复。</li>
                            <li>触摸采样率配置、多指触控优化。</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section class="view-section" id="extend" data-section="extend">
                <div class="section-head">
                    <div>
                        <h2 class="section-title">扩展与后续维护</h2>
                        <p class="section-desc">页面结构采用卡片与网格，便于后续追加新章节或下载链接。</p>
                    </div>
                    <span class="pill">可拓展</span>
                </div>
                <div class="card">
                    <div class="grid">
                        <div>
                            <h3>可以继续添加</h3>
                            <ul class="list">
                                <li>下载/更新入口（区分 GPU / CPU 版）。</li>
                                <li>常用游戏模板与灵敏度参考表。</li>
                                <li>视频演示或 GIF，放入专门的“演示”区块。</li>
                            </ul>
                        </div>
                        <div>
                            <h3>维护建议</h3>
                            <ul class="list">
                                <li>新增功能时，更新“快速开始”与“版本要点”。</li>
                                <li>遇到新问题，直接在“排查 & FAQ”补充卡片。</li>
                                <li>保持导航锚点命名一致，方便 GitHub Pages 锚点跳转。</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <button class="backtop" aria-label="返回顶部" title="返回顶部">↑</button>
    <script src="./assets/main.js"></script>
</body>

</html>